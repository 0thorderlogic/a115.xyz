---
import Layout from "../layouts/Layout.astro";
import * as fs from "node:fs";
import * as path from "node:path";

const email_id = "aoneone5@protonmail.com";
const java24Dir = path.resolve("./public/java24");
let files: any[] = [];
try {
	files = fs.readdirSync(java24Dir).filter((file) => file.endsWith(".pdf"));
} catch (e) {
	files = [];
}
---

<Layout email_id={email_id} title="archive">
	<main class="py-16 md:py-24 space-y-12">
		<section>
			<h1
				class="text-5xl md:text-7xl font-display font-medium leading-[1.1] mb-6"
			>
				archive
			</h1>
			<p
				class="text-xl text-slate-700 dark:text-slate-300 max-w-xl leading-relaxed"
			>
				this could be a lot of things but it is sadly nothing more than
				a glorified dumping ground
			</p>
		</section>

		<hr class="opacity-30" />

		<article>
			<h2
				class="text-[10px] font-bold text-rose-500 uppercase tracking-[0.2em] mb-8"
			>
				CS/APT/24
			</h2>
			<ul class="space-y-4">
				{
					files.map((file) => (
						<li class="group">
							<a
								class="text-xl font-medium text-slate-900 dark:text-slate-100 hover:text-rose-500 transition-colors flex items-center gap-3"
								href={`/java24/${file}`}
								target="_blank"
							>
								<span class="text-xs text-slate-400 group-hover:text-rose-500 transition-colors">
									â†’
								</span>
								{file.replace(".pdf", "").replace(/-/g, " ")}
							</a>
						</li>
					))
				}
			</ul>
		</article>
	</main>
</Layout>
